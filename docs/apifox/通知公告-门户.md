# Apifox 指南 —— 通知公告（门户）

- baseURL: `http://localhost:8080`
- 环境变量建议：`base`、`token_user`
- 通用请求头：`Authorization: Bearer {{token_user}}`

## 推荐集合结构
- 门户 / 通知公告
  - 列表 GET /portal/notice/list
  - 详情 GET /portal/notice/{id}

## 前置：登录
- POST /login
- Body: `{ "username":"user", "password":"123456" }`
- 提取：`data.token` → `token_user`

## 用例 1：列表过滤与排序
- GET /portal/notice/list?pageNum=1&pageSize=10&keyword=考试&orderBy=publishTime&orderDir=desc
- 断言：`status == 200 && body.code == 200`
- 断言：`Array.isArray(body.rows) && typeof body.total === 'number'`

## 用例 2：仅看“未读”公告
- GET /portal/notice/list?read=false
- 断言：`rows.every(x => x.read === false)`（若后端返回该字段）

## 用例 3：详情与阅读回执
- GET /portal/notice/{id}
- 断言：`status == 200 && body.code == 200`
- 断言：`body.data && body.data.notice && Array.isArray(body.data.attachments)`

## 失败断言
- 401：未登录
- 403：非发布者/非管理员访问“非已发布”公告
- 404：不存在/无权查看

